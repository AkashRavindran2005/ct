<!DOCTYPE html>
<html data-bs-theme="dark">

<head>
    <title>{{ title or Configs.ctf_name }}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="{{ Configs.ctf_small_icon }}" type="image/x-icon">

    {{ meta | safe }}

    {% block stylesheets %}
    {{ Assets.css("assets/scss/main.scss") }}
    {% endblock %}

    <!-- Red Team Custom Override -->
    <link rel="stylesheet" href="/themes/Red-team/static/css/red-team.css?v=3">

    {{ Plugins.styles }}

    {{ Assets.js("assets/js/color_mode_switcher.js", type=None) }}

    <script type="text/javascript">
        window.init = {
            'urlRoot': "{{ request.script_root }}",
            'csrfNonce': "{{ Session.nonce }}",
            'userMode': "{{ Configs.user_mode }}",
            'userId': {{ Session.id }},
        'userName': { { User.name | tojson } },
        'userEmail': { { User.email | tojson } },
        'userVerified': { { User.verified | tojson } },
        'teamId': { { Team.id | tojson } },
        'teamName': { { Team.name | tojson } },
        'start': { { Configs.start | tojson } },
        'end': { { Configs.end | tojson } },
        'themeSettings': { { Configs.theme_settings | tojson } },
        'eventSounds': [
            "/themes/core/static/sounds/notification.webm",
            "/themes/core/static/sounds/notification.mp3",
        ],
        }
    </script>

    <!-- Force dark mode -->
    <script>
        document.documentElement.setAttribute('data-bs-theme', 'dark');
    </script>

    {{ Configs.theme_header }}
</head>

<body>
    {% include "components/navbar.html" %}

    <main role="main">
        {% block content %}
        {% endblock %}
    </main>

    {% include "components/snackbar.html" %}

    <footer class="footer">
        <div class="container text-center">
            <div class="rt-identifier" style="margin-bottom: 15px;"></div>
            <small class="text-muted" style="font-family: 'Share Tech Mono', monospace; letter-spacing: 2px;">
                ⚔️ RED TEAM OPERATIONS ⚔️
            </small>
            <br>
            <a href="https://ctfd.io" class="text-secondary">
                <small class="text-muted" style="font-size: 0.7rem;">
                    {% trans %}Powered by CTFd{% endtrans %}
                </small>
            </a>
        </div>
    </footer>

    {% include "components/notifications.html" %}

    {% block scripts %}
    {{ Assets.js("assets/js/page.js") }}
    {% endblock %}

    {{ Plugins.scripts }}

    {{ Configs.theme_footer }}
</body>

</html>